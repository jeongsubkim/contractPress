{"ast":null,"code":"export const CommonFunction = {\n  changeTheme: function () {\n    let color = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    if (color === 'black') {\n      document.getElementById('theme').setAttribute('theme', 'black');\n      document.getElementById('themeBtn').checked = true;\n    } else if (color === 'white') {\n      document.getElementById('theme').setAttribute('theme', 'white');\n      document.getElementById('themeBtn').checked = false;\n    } else {\n      var theme = document.getElementById('theme').getAttribute('theme');\n      if (theme === 'white') {\n        document.getElementById('theme').setAttribute('theme', 'black');\n      } else {\n        document.getElementById('theme').setAttribute('theme', 'white');\n      }\n    }\n  },\n  showLoading: function () {\n    document.getElementById(\"loading\").style.display = 'block';\n  },\n  hideLoading: function () {\n    document.getElementById(\"loading\").style.display = 'none';\n  }\n};\nexport const CommonValidate = {\n  regex: {\n    eng: /^[a-zA-Z]*$/,\n    number: /^[0-9]*$/\n  },\n  regexText: function (value, regex) {\n    return new RegExp(CommonValidate.regex[regex]).test(value);\n  },\n  validateInstant: function (data, error) {\n    Object.keys(error).forEach(function (key) {\n      if (error['isChild']) {\n        if (key !== 'isChild') {\n          for (var i = 0; i < data.length; i++) {\n            var validObj = CommonValidate.validateInstant(data[i][key], error[key]);\n            data[i][key] = validObj;\n          }\n        }\n      } else if (typeof data[key] === 'object' && data[key]) {\n        data[key].isError = false;\n        data[key].errMsg = '';\n        var validObj = CommonValidate.validateInstant(data[key], error[key]);\n        data[key] = validObj;\n      } else {\n        var value = data.value;\n        if (key === 'required' && value === '') {\n          if (error[key] === true) {\n            data['isError'] = true;\n            data['errMsg'] = error['nullMsg'];\n          } else if (error[key] === 'condition' && data['required']) {\n            data['isError'] = true;\n            data['errMsg'] = error['nullMsg'];\n          }\n        } else if (key === 'type') {\n          if (!CommonValidate.regexText(value, error[key])) {\n            data['isError'] = true;\n            data['errMsg'] = error['typeErrMsg'];\n          }\n          ;\n        } else if (key === 'digits') {\n          if (value.length > error[key]) {\n            data['isError'] = true;\n            data['errMsg'] = error['digitsErrMsg'];\n          }\n        }\n      }\n    });\n    return data;\n  },\n  beforeSubmit: function (data, error) {\n    var newData = this.validateInstant(data, error);\n    console.log(newData);\n    console.log(error);\n    newData = CommonValidate.makeErrorTxt(newData);\n    console.log(newData);\n  },\n  makeErrorTxt: function (newData) {\n    Object.keys(newData).forEach(function (key) {\n      if (typeof newData[key] === 'object') {\n        console.log(newData);\n        CommonValidate.makeErrorTxt(newData[key]);\n      } else {\n        if (newData['isUpdate'] !== undefined) {\n          newData['isUpdate'] = true;\n        }\n      }\n    });\n    return newData;\n  }\n};","map":{"version":3,"names":["CommonFunction","changeTheme","color","arguments","length","undefined","document","getElementById","setAttribute","checked","theme","getAttribute","showLoading","style","display","hideLoading","CommonValidate","regex","eng","number","regexText","value","RegExp","test","validateInstant","data","error","Object","keys","forEach","key","i","validObj","isError","errMsg","beforeSubmit","newData","console","log","makeErrorTxt"],"sources":["C:/Users/N22082302/react-cap/jstest/react/cap-react/src/admin/CommonFunction.js"],"sourcesContent":["export const CommonFunction = {\r\n    changeTheme : function(color = null){\r\n        if(color === 'black'){\r\n            document.getElementById('theme').setAttribute('theme','black');\r\n            document.getElementById('themeBtn').checked = true;\r\n        }else if(color === 'white'){\r\n            document.getElementById('theme').setAttribute('theme','white');\r\n            document.getElementById('themeBtn').checked = false;\r\n        }else{\r\n            var theme = document.getElementById('theme').getAttribute('theme');\r\n            if(theme === 'white'){\r\n                document.getElementById('theme').setAttribute('theme','black');\r\n            }else{\r\n                document.getElementById('theme').setAttribute('theme','white');\r\n            }\r\n        }\r\n    },\r\n    showLoading : function(){\r\n        document.getElementById(\"loading\").style.display = 'block';\r\n    },\r\n    hideLoading : function(){\r\n        document.getElementById(\"loading\").style.display = 'none';\r\n    }\r\n}\r\nexport const CommonValidate = {\r\n    regex : {\r\n        eng : /^[a-zA-Z]*$/,\r\n        number : /^[0-9]*$/,\r\n\r\n    },\r\n    regexText : function(value, regex){\r\n        return new RegExp(CommonValidate.regex[regex]).test(value);\r\n    },\r\n    validateInstant : function(data, error){\r\n        Object.keys(error).forEach(function(key){\r\n            if(error['isChild']){\r\n                if(key !== 'isChild'){\r\n                    for(var i = 0; i < data.length; i++){\r\n                        var validObj = CommonValidate.validateInstant(data[i][key], error[key]);\r\n                        data[i][key] = validObj;\r\n                    }\r\n                }\r\n            }else if(typeof data[key] === 'object' && data[key]){\r\n                data[key].isError = false;\r\n                data[key].errMsg = '';\r\n                var validObj = CommonValidate.validateInstant(data[key],error[key]);\r\n                data[key] = validObj;\r\n            }else{\r\n                var value = data.value;\r\n                if(key === 'required' && value === ''){\r\n                    if(error[key] === true){\r\n                        data['isError'] = true;\r\n                        data['errMsg'] = error['nullMsg'];\r\n                    }else if(error[key] === 'condition' && data['required']){\r\n                        data['isError'] = true;\r\n                        data['errMsg'] = error['nullMsg'];\r\n                    }\r\n                }else if(key === 'type'){\r\n                    if(!CommonValidate.regexText(value, error[key])){\r\n                        data['isError'] = true;\r\n                        data['errMsg'] = error['typeErrMsg']\r\n                    };\r\n                }else if(key === 'digits'){\r\n                    if(value.length > error[key]){\r\n                        data['isError'] = true;\r\n                        data['errMsg'] = error['digitsErrMsg']\r\n                    }\r\n                }\r\n            }\r\n        })\r\n        return data;\r\n    },\r\n    beforeSubmit : function(data, error){\r\n        var newData = this.validateInstant(data, error);\r\n        console.log(newData);\r\n        console.log(error);\r\n        newData = CommonValidate.makeErrorTxt(newData);\r\n        console.log(newData);\r\n        \r\n    },\r\n    makeErrorTxt : function(newData){\r\n        Object.keys(newData).forEach(function(key){\r\n            if(typeof newData[key] === 'object'){\r\n                console.log(newData);\r\n                CommonValidate.makeErrorTxt(newData[key]);\r\n            }else{\r\n                if(newData['isUpdate'] !== undefined){\r\n                    newData['isUpdate'] = true\r\n                }\r\n            }\r\n        })\r\n        return newData\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}